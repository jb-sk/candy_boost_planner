/* Modern: LevelPicker â€” popover + slider + chips (mobile-first) */

/* ===== Root wrapper ===== */
.levelPick {
  position: relative;
}

/* ===== Trigger button ===== */
.levelPick__button {
  width: 100%;
  text-align: left;
  font: inherit;
  padding: 10px 12px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--input-border);
  background: var(--input-bg);
  color: var(--ink);
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
}

.levelPick__button::after {
  content: "";
  display: block;
  width: 16px;
  height: 16px;
  margin-left: 8px;
  flex-shrink: 0;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E") no-repeat center / contain;
}

.levelPick__button:focus-visible {
  outline: none;
  border-color: var(--ring);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--ring) 20%, transparent);
}

/* ===== Popover ===== */
.levelPick__popover {
  position: absolute;
  z-index: 100;
  top: calc(100% + 6px);
  /* Horizontal position is set by JS (adjustPopoverPosition) to prevent
     both left and right viewport overflow. Falls back to left:0. */
  left: 0;
  width: min(320px, 85vw);
  border: 1px solid var(--border);
  background: var(--paper);
  border-radius: var(--radius-lg);
  padding: 12px;
  box-shadow: var(--shadow-lg);
}

/* ===== Popover Header ===== */
.levelPick__top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 8px;
}

.levelPick__title {
  font-family: var(--font-heading);
  font-weight: 800;
  font-size: 14px;
  letter-spacing: -0.01em;
}

/* ===== Slider Row ===== */
.levelPick__sliderRow {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 8px;
  align-items: center;
  margin-bottom: 10px;
}

.levelPick__range {
  width: 100%;
  accent-color: var(--accent);
  cursor: pointer;
}

/* ===== Preset Chips ===== */
.levelPick__chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.levelChip {
  width: 38px;
  height: 38px;
  border-radius: var(--radius-pill);
  border: 1px solid var(--border);
  background: var(--input-bg);
  color: var(--ink);
  font: inherit;
  font-family: var(--font-heading);
  font-weight: 800;
  font-size: 13px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: border-color 0.15s, background 0.15s;
  -webkit-tap-highlight-color: transparent;
}

.levelChip:hover {
  border-color: color-mix(in srgb, var(--ink) 28%, transparent);
}

.levelChip--on {
  border-color: var(--accent);
  background: color-mix(in srgb, var(--accent) 12%, var(--paper));
  color: var(--accent);
}

.levelChip:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}
